{"ast":null,"code":"var _jsxFileName = \"/home/utkarshgarg/Documents/react-ecommerce/src/Context/FilterContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer } from \"react\";\nimport { filterReducer } from \"../Reducer/filterareducer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst filterIntialState = {\n  productList: [],\n  onlyInStock: false,\n  bestSellerOnly: false,\n  sortBy: null,\n  ratings: null\n};\nconst FilterContext = /*#__PURE__*/createContext(filterIntialState);\nexport const FilterProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(filterReducer, filterIntialState);\n  function initialProductList(products) {\n    dispatch({\n      type: \"PRODUCT_LIST\",\n      payload: {\n        products: products\n      }\n    });\n  }\n  function bestSeller(products) {\n    return state.bestSellerOnly ? products.filter(product => product.best_seller === true) : products;\n  }\n  function inStock(products) {\n    return state.onlyInStock ? products.filter(product => product.in_stock === true) : products;\n  }\n  function sort(products) {\n    if (state.sortBy === \"lowtohigh\") {\n      return products.sort((a, b) => Number(a.price) - Number(b.price));\n    }\n    if (state.sortBy === \"hightolow\") {\n      return products.sort((a, b) => Number(b.price) - Number(a.price));\n    }\n    return products;\n  }\n  function rating(products) {\n    if (state.ratings === \"4STARSABOVE\") {\n      return products.filter(product => product.rating >= 4);\n    }\n    if (state.ratings === \"3STARSABOVE\") {\n      return products.filter(product => product.rating >= 3);\n    }\n    if (state.ratings === \"2STARSABOVE\") {\n      return products.filter(product => product.rating >= 2);\n    }\n    if (state.ratings === \"1STARSABOVE\") {\n      return products.filter(product => product.rating >= 1);\n    }\n    return products;\n  }\n  const filteredProductList = rating(sort(inStock(bestSeller(state.productList))));\n  const value = {\n    state,\n    dispatch,\n    products: filteredProductList,\n    initialProductList\n  };\n  return /*#__PURE__*/_jsxDEV(FilterContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n_s(FilterProvider, \"53cLcaRuL6sqVbR5v/iBnpbzmoE=\");\n_c = FilterProvider;\nexport const useFilter = () => {\n  _s2();\n  return useContext(FilterContext);\n};\n_s2(useFilter, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"FilterProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","filterReducer","jsxDEV","_jsxDEV","filterIntialState","productList","onlyInStock","bestSellerOnly","sortBy","ratings","FilterContext","FilterProvider","children","_s","state","dispatch","initialProductList","products","type","payload","bestSeller","filter","product","best_seller","inStock","in_stock","sort","a","b","Number","price","rating","filteredProductList","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useFilter","_s2","$RefreshReg$"],"sources":["/home/utkarshgarg/Documents/react-ecommerce/src/Context/FilterContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\nimport { filterReducer } from \"../Reducer/filterareducer\";\n\nconst filterIntialState = {\n  productList: [],\n  onlyInStock: false,\n  bestSellerOnly: false,\n  sortBy: null,\n  ratings: null,\n};\n\nconst FilterContext = createContext(filterIntialState);\n\nexport const FilterProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(filterReducer, filterIntialState);\n\n  function initialProductList(products) {\n    dispatch({\n      type: \"PRODUCT_LIST\",\n      payload: {\n        products: products,\n      },\n    });\n  }\n\n  function bestSeller(products) {\n    return state.bestSellerOnly\n      ? products.filter((product) => product.best_seller === true)\n      : products;\n  }\n\n  function inStock(products) {\n    return state.onlyInStock\n      ? products.filter((product) => product.in_stock === true)\n      : products;\n  }\n\n  function sort(products) {\n    if (state.sortBy === \"lowtohigh\") {\n      return products.sort((a, b) => Number(a.price) - Number(b.price));\n    }\n    if (state.sortBy === \"hightolow\") {\n      return products.sort((a, b) => Number(b.price) - Number(a.price));\n    }\n    return products;\n  }\n\n  function rating(products) {\n    if (state.ratings === \"4STARSABOVE\") {\n      return products.filter((product) => product.rating >= 4);\n    }\n    if (state.ratings === \"3STARSABOVE\") {\n      return products.filter((product) => product.rating >= 3);\n    }\n    if (state.ratings === \"2STARSABOVE\") {\n      return products.filter((product) => product.rating >= 2);\n    }\n    if (state.ratings === \"1STARSABOVE\") {\n      return products.filter((product) => product.rating >= 1);\n    }\n    return products;\n  }\n\n  const filteredProductList = rating(\n    sort(inStock(bestSeller(state.productList)))\n  );\n\n  const value = {\n    state,\n    dispatch,\n    products: filteredProductList,\n    initialProductList,\n  };\n\n  return (\n    <FilterContext.Provider value={value}>{children}</FilterContext.Provider>\n  );\n};\n\nexport const useFilter = () => useContext(FilterContext);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}