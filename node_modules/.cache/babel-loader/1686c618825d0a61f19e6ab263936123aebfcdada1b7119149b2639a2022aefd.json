{"ast":null,"code":"export async function login(authDetail) {\n  const requestOptions = {\n    method: \"POST\",\n    headers: {\n      \"content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(authDetail)\n  };\n  const response = await fetch(`${process.env.REACT_APP_HOST}/login`, requestOptions);\n  if (!response.ok) {\n    // eslint-disable-next-line no-throw-literal\n    throw {\n      message: response.statusText,\n      status: response.status\n    };\n  }\n  const data = await response.json();\n  if (data.accessToken) {\n    sessionStorage.setItem(\"token\", JSON.stringify(data.accessToken));\n    sessionStorage.setItem(\"cbid\", JSON.stringify(data.user.id));\n  }\n  return data;\n}\nexport async function register(authDetail) {\n  const requestOptions = {\n    method: \"POST\",\n    headers: {\n      \"content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(authDetail)\n  };\n  const response = await fetch(`${process.env.REACT_APP_HOST}/register`, requestOptions);\n  if (!response.ok) {\n    // eslint-disable-next-line no-throw-literal\n    throw {\n      message: response.statusText,\n      status: response.status\n    };\n  }\n  const data = await response.json();\n  if (data.accessToken) {\n    sessionStorage.setItem(\"token\", JSON.stringify(data.accessToken));\n    sessionStorage.setItem(\"cbid\", JSON.stringify(data.user.id));\n  }\n  return data;\n}\nexport function Logout() {\n  sessionStorage.removeItem(\"token\");\n  sessionStorage.removeItem(\"cbid\");\n}\n_c = Logout;\nvar _c;\n$RefreshReg$(_c, \"Logout\");","map":{"version":3,"names":["login","authDetail","requestOptions","method","headers","body","JSON","stringify","response","fetch","process","env","REACT_APP_HOST","ok","message","statusText","status","data","json","accessToken","sessionStorage","setItem","user","id","register","Logout","removeItem","_c","$RefreshReg$"],"sources":["/home/utkarshgarg/Documents/react-ecommerce/src/services/authService.js"],"sourcesContent":["export async function login(authDetail) {\n  const requestOptions = {\n    method: \"POST\",\n    headers: { \"content-Type\": \"application/json\" },\n    body: JSON.stringify(authDetail),\n  };\n\n  const response = await fetch(\n    `${process.env.REACT_APP_HOST}/login`,\n    requestOptions\n  );\n\n  if (!response.ok) {\n    // eslint-disable-next-line no-throw-literal\n    throw { message: response.statusText, status: response.status };\n  }\n  const data = await response.json();\n\n  if (data.accessToken) {\n    sessionStorage.setItem(\"token\", JSON.stringify(data.accessToken));\n    sessionStorage.setItem(\"cbid\", JSON.stringify(data.user.id));\n  }\n\n  return data;\n}\n\nexport async function register(authDetail) {\n  const requestOptions = {\n    method: \"POST\",\n    headers: { \"content-Type\": \"application/json\" },\n    body: JSON.stringify(authDetail),\n  };\n  const response = await fetch(\n    `${process.env.REACT_APP_HOST}/register`,\n    requestOptions\n  );\n  if (!response.ok) {\n    // eslint-disable-next-line no-throw-literal\n    throw { message: response.statusText, status: response.status };\n  }\n  const data = await response.json();\n\n  if (data.accessToken) {\n    sessionStorage.setItem(\"token\", JSON.stringify(data.accessToken));\n    sessionStorage.setItem(\"cbid\", JSON.stringify(data.user.id));\n  }\n\n  return data;\n}\n\nexport function Logout() {\n  sessionStorage.removeItem(\"token\");\n  sessionStorage.removeItem(\"cbid\");\n}\n"],"mappings":"AAAA,OAAO,eAAeA,KAAKA,CAACC,UAAU,EAAE;EACtC,MAAMC,cAAc,GAAG;IACrBC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACN,UAAU;EACjC,CAAC;EAED,MAAMO,QAAQ,GAAG,MAAMC,KAAK,CACzB,GAAEC,OAAO,CAACC,GAAG,CAACC,cAAe,QAAO,EACrCV,cACF,CAAC;EAED,IAAI,CAACM,QAAQ,CAACK,EAAE,EAAE;IAChB;IACA,MAAM;MAAEC,OAAO,EAAEN,QAAQ,CAACO,UAAU;MAAEC,MAAM,EAAER,QAAQ,CAACQ;IAAO,CAAC;EACjE;EACA,MAAMC,IAAI,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;EAElC,IAAID,IAAI,CAACE,WAAW,EAAE;IACpBC,cAAc,CAACC,OAAO,CAAC,OAAO,EAAEf,IAAI,CAACC,SAAS,CAACU,IAAI,CAACE,WAAW,CAAC,CAAC;IACjEC,cAAc,CAACC,OAAO,CAAC,MAAM,EAAEf,IAAI,CAACC,SAAS,CAACU,IAAI,CAACK,IAAI,CAACC,EAAE,CAAC,CAAC;EAC9D;EAEA,OAAON,IAAI;AACb;AAEA,OAAO,eAAeO,QAAQA,CAACvB,UAAU,EAAE;EACzC,MAAMC,cAAc,GAAG;IACrBC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACN,UAAU;EACjC,CAAC;EACD,MAAMO,QAAQ,GAAG,MAAMC,KAAK,CACzB,GAAEC,OAAO,CAACC,GAAG,CAACC,cAAe,WAAU,EACxCV,cACF,CAAC;EACD,IAAI,CAACM,QAAQ,CAACK,EAAE,EAAE;IAChB;IACA,MAAM;MAAEC,OAAO,EAAEN,QAAQ,CAACO,UAAU;MAAEC,MAAM,EAAER,QAAQ,CAACQ;IAAO,CAAC;EACjE;EACA,MAAMC,IAAI,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;EAElC,IAAID,IAAI,CAACE,WAAW,EAAE;IACpBC,cAAc,CAACC,OAAO,CAAC,OAAO,EAAEf,IAAI,CAACC,SAAS,CAACU,IAAI,CAACE,WAAW,CAAC,CAAC;IACjEC,cAAc,CAACC,OAAO,CAAC,MAAM,EAAEf,IAAI,CAACC,SAAS,CAACU,IAAI,CAACK,IAAI,CAACC,EAAE,CAAC,CAAC;EAC9D;EAEA,OAAON,IAAI;AACb;AAEA,OAAO,SAASQ,MAAMA,CAAA,EAAG;EACvBL,cAAc,CAACM,UAAU,CAAC,OAAO,CAAC;EAClCN,cAAc,CAACM,UAAU,CAAC,MAAM,CAAC;AACnC;AAACC,EAAA,GAHeF,MAAM;AAAA,IAAAE,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}