{"ast":null,"code":"function getSession() {\n  const token = JSON.parse(sessionStorage.getItem(\"token\"));\n  const cbid = JSON.parse(sessionStorage.getItem(\"cbid\"));\n  return {\n    token: token,\n    id: cbid\n  };\n}\nexport async function getUser() {\n  const session = getSession();\n  const responseOption = {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${session.token}`\n    }\n  };\n  const response = await fetch(`${process.env.REACT_APP_HOST}/600/users/${session.id}`, responseOption);\n  if (!response.ok) {\n    // eslint-disable-next-line no-throw-literal\n    throw {\n      message: response.statusText,\n      status: response.status\n    };\n  }\n  const data = await response.json();\n  return data;\n}\nexport async function getUserOrders() {\n  const session = getSession();\n  const response = await fetch(`${process.env.REACT_APP_HOST}/660/orders?user.id=${session.id}`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${session.token}`\n    }\n  });\n  if (!response.ok) {\n    // eslint-disable-next-line no-throw-literal\n    throw {\n      message: response.statusText,\n      status: response.status\n    };\n  }\n  const data = await response.json();\n  return data;\n}\nexport async function CreateOrder(cartList, total, user) {\n  const session = getSession();\n  const order = {\n    cartList: cartList,\n    amount_paid: total,\n    quantity: cartList.length,\n    user: {\n      name: user.name,\n      email: user.email,\n      id: user.id\n    }\n  };\n  const response = await fetch(`${process.env.REACT_APP_HOST}/660/orders`, {\n    method: \"POSt\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${session.token}`\n    },\n    body: JSON.stringify(order)\n  });\n  if (!response.ok) {\n    // eslint-disable-next-line no-throw-literal\n    throw {\n      message: response.statusText,\n      status: response.status\n    };\n  }\n  const data = await response.json();\n  return data;\n}\n_c = CreateOrder;\nvar _c;\n$RefreshReg$(_c, \"CreateOrder\");","map":{"version":3,"names":["getSession","token","JSON","parse","sessionStorage","getItem","cbid","id","getUser","session","responseOption","method","headers","Authorization","response","fetch","process","env","REACT_APP_HOST","ok","message","statusText","status","data","json","getUserOrders","CreateOrder","cartList","total","user","order","amount_paid","quantity","length","name","email","body","stringify","_c","$RefreshReg$"],"sources":["/home/utkarshgarg/Documents/react-ecommerce/src/services/dataServices.js"],"sourcesContent":["function getSession() {\n  const token = JSON.parse(sessionStorage.getItem(\"token\"));\n  const cbid = JSON.parse(sessionStorage.getItem(\"cbid\"));\n\n  return { token: token, id: cbid };\n}\n\nexport async function getUser() {\n  const session = getSession();\n  const responseOption = {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${session.token}`,\n    },\n  };\n  const response = await fetch(\n    `${process.env.REACT_APP_HOST}/600/users/${session.id}`,\n    responseOption\n  );\n  if (!response.ok) {\n    // eslint-disable-next-line no-throw-literal\n    throw { message: response.statusText, status: response.status };\n  }\n\n  const data = await response.json();\n  return data;\n}\n\nexport async function getUserOrders() {\n  const session = getSession();\n  const response = await fetch(\n    `${process.env.REACT_APP_HOST}/660/orders?user.id=${session.id}`,\n    {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${session.token}`,\n      },\n    }\n  );\n  if (!response.ok) {\n    // eslint-disable-next-line no-throw-literal\n    throw { message: response.statusText, status: response.status };\n  }\n  const data = await response.json();\n  return data;\n}\n\nexport async function CreateOrder(cartList, total, user) {\n  const session = getSession();\n  const order = {\n    cartList: cartList,\n    amount_paid: total,\n    quantity: cartList.length,\n    user: {\n      name: user.name,\n      email: user.email,\n      id: user.id,\n    },\n  };\n\n  const response = await fetch(`${process.env.REACT_APP_HOST}/660/orders`, {\n    method: \"POSt\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${session.token}`,\n    },\n    body: JSON.stringify(order),\n  });\n  if (!response.ok) {\n    // eslint-disable-next-line no-throw-literal\n    throw { message: response.statusText, status: response.status };\n  }\n\n  const data = await response.json();\n\n  return data;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}